# Product Requirements Document: NoteFlow

## 產品概述

NoteFlow 是一款行動應用程式，讓使用者將音樂檔案（MP3、WAV、M4A）轉換為鋼琴樂譜。目標用戶為鋼琴學生、業餘音樂愛好者、教會音樂人及翻唱創作者。

## 核心問題

- 現有工具多為桌面端，價格高昂（$30–$100+）
- 行動端解決方案嚴重不足
- 使用者希望在手機上錄音或上傳音樂，即時獲得樂譜

## 目標用戶

| 用戶類型 | 需求 |
|---------|------|
| 鋼琴學生 | 將喜歡的歌曲轉為可練習的樂譜 |
| 業餘愛好者 | 快速獲得簡化版樂譜 |
| 教會音樂人 | 將敬拜歌曲轉為鋼琴伴奏譜 |
| 翻唱創作者 | 從原曲提取鋼琴編排 |

## 功能需求

### MVP（Phase 1）

1. **音訊輸入**
   - 上傳音樂檔案（MP3、WAV、M4A）
   - 手機麥克風即時錄音

2. **音訊轉 MIDI**
   - 多音軌音高偵測（polyphonic pitch detection）
   - 支援鋼琴音色辨識

3. **樂譜渲染**
   - 標準五線譜顯示（高音譜號 + 低音譜號）
   - 基本音符、休止符、拍號、調號

4. **樂譜播放**
   - MIDI 合成播放（鋼琴音色）
   - 播放 / 暫停 / 停止控制
   - 播放進度條與拖曳跳轉
   - 播放時音符即時高亮（跟隨游標）
   - 速度調整（0.25x ~ 2.0x）
   - 小節跳轉（點擊特定小節開始播放）

5. **匯出功能**
   - PDF 匯出
   - MIDI 檔案匯出

6. **使用者帳戶**
   - 註冊 / 登入
   - 轉換歷史記錄

### Phase 2

7. **難度調整** — 自動編排為初級 / 中級 / 高級版本
8. **和弦符號** — 在譜表上方顯示和弦名稱
9. **歌詞對齊** — 若原曲含人聲，對齊歌詞至樂譜
10. **A-B 段落循環** — 選取特定段落反覆播放練習

### Phase 3

11. **社群分享** — 使用者分享樂譜
12. **樂譜編輯器** — 手動修正 AI 生成的樂譜
13. **多樂器支援** — 吉他、小提琴等

## 商業模式

| 方案 | 價格 | 內容 |
|------|------|------|
| Free | $0 | 每月 3 次轉換、30 秒片段、浮水印 PDF |
| Pro Monthly | $7.99/月 | 無限轉換、完整歌曲、乾淨 PDF/MIDI、難度調整 |
| Pro Lifetime | $39.99 | 同 Pro Monthly，一次買斷 |

## 成功指標

- MVP 上線後 3 個月內達到 1,000 次下載
- 免費轉付費轉換率 > 5%
- 使用者留存率（30 天）> 25%
- App Store 評分 > 4.0
